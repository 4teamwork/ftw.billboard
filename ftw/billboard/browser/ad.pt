<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="ftw.billboard">

<body>
<div metal:fill-slot="main">
    <metal:main-macro define-macro="main">
        <div tal:replace="structure provider:plone.abovecontenttitle" />
        <h1 tal:content="here/Title" class="documentFirstHeading" />
        <div tal:replace="structure provider:plone.belowcontenttitle" />
        <div tal:replace="structure provider:plone.abovecontentbody" />
        <table class="billboardAdTable">
            <tr>
                <th i18n:translate="billboard_label_price">price</th>
                <td tal:content="context/getPrice"></td>
            </tr>
            <tr>
                <th i18n:domain="plone" i18n:translate="label_expiration_date">expiration date</th>
                <td tal:content="python:here.expires().strftime('%d.%m.%Y')"></td>
            </tr>
            <tr>
                <th i18n:translate="billboard_label_details">Details</th>
                <td><div class="sl-text-wrapper" tal:content="structure context/getDetails" /></td>
            </tr>
            <tr>
                <th i18n:translate="">Contact</th>
                <td>
                    <b tal:content="context/contactName" /><br />
                    <img tal:attributes="src string:${context/portal_url}/mail_icon.gif" alt="" />
                    <a tal:define="mail here/contactMail | python: member.getProperty('email')" 
                       tal:attributes="href string:mailto:${mail}" tal:content="mail" /><br />
                    <tal:if condition="here/contactPhone">
                        <img tal:attributes="src string:${context/portal_url}/phone_icon.gif" />
                        <span tal:content="here/contactPhone" />
                    </tal:if>
                </td>
            </tr>
            <tr tal:condition="view/get_elements" tal:define="images view/get_elements">
                <th i18n:translate="billboard_label_image">Images</th>
                <td> 
                    <span tal:repeat="image images" tal:content="structure image/Title" />
                </td>
                <!-- <td tal:content="structure python: image[]['Title']" /> -->
            </tr>
            <tr tal:condition="view/get_files" tal:define="files view/get_files">
                <th i18n:translate="billboard_label_file">Files</th>
                <td> 
                    <p tal:repeat="file files" tal:content="structure file/Title" />
                </td>
                <!-- <td tal:content="structure python: image[]['Title']" /> -->
            </tr>
        </table>
    </metal:main-macro>
</div>
</body>
</html>
