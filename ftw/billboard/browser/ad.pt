<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="ftw.billboard">

<body>
<div metal:fill-slot="main" class="billboardAdDetail">
    <metal:main-macro define-macro="main">
        <div tal:replace="structure provider:plone.abovecontenttitle" />
        <h1 tal:content="here/Title" class="documentFirstHeading" />
        <div tal:replace="structure provider:plone.belowcontenttitle" />
        <div tal:replace="structure provider:plone.abovecontentbody" />
        <table class="vertical listing">
            <tr>
                <th i18n:translate="label_date">Date</th>
                <td tal:content="python:context.effective().strftime('%d.%m.%Y')"></td>
            </tr>
            <tr tal:condition="context/getPrice">
                <th i18n:translate="label_price">price</th>
                <td tal:content="context/getPrice"></td>
            </tr>
            <tr>
                <th i18n:translate="label_description">Description</th>
                <td tal:content="structure context/Description" />
            </tr>
            <!-- IMAGES -->
            <tr tal:condition="view/get_elements" tal:define="images view/get_elements">
                <th i18n:translate="label_image">Images</th>
                <td> 
                    <p tal:repeat="image images">
                        <a tal:attributes="href image">
                            <img tal:attributes="src string:${image}/image_thumb"
                                 class="billboardAdImage"
                                 alt="" />
                        </a>
                    </p>
                </td>
            </tr>
            <!-- FILES -->
            <tr tal:condition="view/get_files">
                <th i18n:translate="label_file">Files</th>
                <td> 
                    <p tal:repeat="file view/get_files">
                        <a tal:attributes="href file/path">
                            <img tal:attributes="src file/icon" alt="" />
                            <span tal:content="file/title" />
                        </a>
                    </p>
                </td>
            </tr>
            <!-- CONTACT -->
            <tr>
                <th i18n:translate="">Contact</th>
                <td>
                    <img tal:attributes="src string:${context/portal_url}/mail_icon.gif" alt="" />
                    <a tal:define="mail context/getContactMail" 
                       tal:attributes="href string:mailto:${mail}" tal:content="mail" />
                </td>
            </tr>
        </table>
    </metal:main-macro>
</div>
</body>
</html>
